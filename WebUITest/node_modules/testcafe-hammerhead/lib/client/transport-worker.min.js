!function(e){"use strict";var t,n,r,s,a,o={".js":[],".json":[],".css":[],".html":[]},i="function"==typeof require?require:null;return s=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},a=function(e,t,n){var r,s;if("function"==typeof e[t+n])return t+n;for(r=0;s=o[n][r];++r)if("function"==typeof e[t+s])return t+s;return null},t=function(e,r,o,i,u,c){var d,l,f,p,m,h;for(o=o.split(/[\\\/]/),d=o.pop(),"."!==d&&".."!==d||(o.push(d),d="");null!=(l=o.shift());)if(l&&"."!==l&&(".."===l?(e=r.pop(),c=c.slice(0,c.lastIndexOf("/"))):(r.push(e),e=e[l],c+="/"+l),!e))throw s(i);if(d&&"function"!=typeof e[d]&&(h=a(e,d,".js"),h||(h=a(e,d,".json")),h||(h=a(e,d,".css")),h||(h=a(e,d,".html")),h?d=h:2!==u&&"object"==typeof e[d]&&(r.push(e),e=e[d],c+="/"+d,d="")),!d)return 1!==u&&e[":mainpath:"]?t(e,r,e[":mainpath:"],i,1,c):t(e,r,"index",i,2,c);if(m=e[d],!m)throw s(i);return m.hasOwnProperty("module")?m.module.exports:(f={},m.module=p={exports:f,id:c+"/"+d},m.call(f,f,p,n(e,r,c)),p.exports)},r=function(n,r,a,o){var u,c=a,d=a.charAt(0),l=0;if("/"===d){if(c=c.slice(1),n=e["/"],!n){if(i)return i(a);throw s(a)}o="/",r=[]}else if("."!==d){if(u=c.split("/",1)[0],n=e[u],!n){if(i)return i(a);throw s(a)}o=u,r=[],c=c.slice(u.length+1),c||(c=n[":mainpath:"],c?l=1:(c="index",l=2))}return t(n,r,c,a,l,o)},(n=function(e,t,n){return function(s){return r(e,[].concat(t),s,n)}})(e,[],"")}({"testcafe-hammerhead":{src:{client:{transport:{"consts.js":function(e,t,n){e.__esModule=!0,e.HANDLE_PORT_CMD=e.SET_INITIAL_WORKER_SETTINGS_CMD=void 0;var r="hammerhead|transport|set-initial-worker-settings";e.SET_INITIAL_WORKER_SETTINGS_CMD=r;var s="hammerhead|transport|handle-port";e.HANDLE_PORT_CMD=s}},"transport-worker":{"index.js":function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){(0,o["default"])(u,e,function(e,n){return t({err:e,data:n})})}function a(e,t){d[e.cmd]||(d[e.cmd]=[]),d[e.cmd].push({msg:e,callback:t});var n=function r(t){var n=d[e.cmd].shift();n.callback(t),d[e.cmd].length&&s(d[e.cmd][0].msg,r)};1===d[e.cmd].length&&s(e,n)}var o=r(n("./request")),i=n("../transport/consts"),u="",c="",d={},l=function f(e){if(e.data.cmd===i.SET_INITIAL_WORKER_SETTINGS_CMD){var t=e.data;u=t.serviceMsgUrl,c=t.sessionId}else if(e.data.cmd===i.HANDLE_PORT_CMD)e.ports[0].onmessage=f;else{var n=e.data,r=n.msg,o=function(t){return e.target.postMessage({id:n.id,result:t})};r.sessionId=c,n.queued?a(r,o):s(r,o)}};self.addEventListener("message",l)},"request.js":function(e,t,n){function r(e,t){var n=t.target;500===n.status&&n.responseText?(e.msg.disableResending=!0,s(e,t)):e.callback(null,n.responseText&&JSON.parse(n.responseText))}function s(e,t){var n=t.target;if(e.msg.disableResending){var r="XHR request failed with "+n.status+" status code.";n.responseText&&(r+="\nError message: "+n.responseText),e.callback(r)}else e.msg.disableResending=!0,o(e.url,e.msg,e.callback)}function a(e){var t=this;"load"===e.type?r(t,e):s(t,e)}function o(e,t,n){var r=new XMLHttpRequest,s={url:e,msg:t,callback:n,handleEvent:a};r.open("POST",e,!0),r.setRequestHeader("cache-control","no-cache, no-store, must-revalidate"),r.addEventListener("load",s),r.addEventListener("abort",s),r.addEventListener("error",s),r.addEventListener("timeout",s),r.send(JSON.stringify(t))}e.__esModule=!0,e["default"]=o,t.exports=e["default"]}}}}}})("testcafe-hammerhead/src/client/transport-worker/index");